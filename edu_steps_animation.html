<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Edu a lépcsőn</title>
<style>
  body {
    margin: 0;
    background: rgb(30,30,30);
    color: white;
    font-family: "Times New Roman", serif;
    display: flex;
    justify-content: center;
    align-items: center;
    padding-top: 160pt;
    box-sizing: border-box;
    height: 100vh;
  }
  #stairs {
    position: relative;
    width: 560px; /* updated dynamically */
    height: 640px; /* updated dynamically */
    margin-bottom: 40px;
    opacity: 0;
    transition: opacity 0.5s ease;
    transform: scale(1.2);
    transform-origin: bottom left;
  }
  .step {
    position: absolute;
    width: 80px;
    height: 80px;
    border: 2px solid white;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 24px;
  }
  .grey { color: #b0b0b0; }
  #edu {
    position: absolute;
    width: 110px;
    height: auto;
    object-fit: contain;
    background-color: transparent;
    opacity: 0;
    transform-origin: bottom left;
    transition: opacity 0.5s ease, transform 0.5s ease;
  }
  #arrows {
    position: absolute;
    right: 10px;
    bottom: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    font-size: 80px;
    color: rgb(0,128,255);
    transform-origin: top left;
    transform: rotate(45deg);
    opacity: 0;
    transition: opacity 0.5s ease;
  }
  #arrows.visible { opacity: 1; }
  #arrows .arrow { opacity: 0; transition: opacity 0.5s ease; }
  #arrows .arrow.visible { opacity: 1; }
</style>
</head>
<body>
<div id="stairs">
  <img id="edu" src="https://raw.githubusercontent.com/Eduking941/EdukingPDF-PPT/2c31f2da881204b20023e7c8554d83d84a683f07/Edu_%C3%A1tl%C3%A1tsz%C3%B3_h%C3%A1tt%C3%A9r.svg" alt="Edu">
  <div id="arrows">
    <div class="arrow up">↑ :</div>
    <div class="arrow down">↓ &middot;</div>
  </div>
</div>
<script>
let positions = [];
let current = 0;
const edu = document.getElementById('edu');
const stairs = document.getElementById('stairs');
const arrows = document.getElementById('arrows');
const up = arrows.querySelector('.up');
const down = arrows.querySelector('.down');
const names = ["mp","perc","óra","nap","hét","év"];
stairs.style.width = names.length * 80 + "px";
stairs.style.height = (names.length + 1) * 80 + "px";
// Scale the arrows to half the usual size relative to the staircase height
const arrowScale = parseInt(stairs.style.height) / 320;
arrows.style.transform = `rotate(45deg) scale(${arrowScale})`;
names.forEach((n,i) => {
  const div = document.createElement("div");
  div.className = "step";
  div.style.left = (i*80) + "px";
  div.style.bottom = (i*80) + "px";
  div.textContent = n;
  stairs.appendChild(div);
  positions.push({left:i*80, bottom:(i+1)*80});
});
current = 0;
place();

function place() {
  edu.style.left = positions[current].left + 'px';
  edu.style.bottom = positions[current].bottom + 'px';
}
place();

let step = 1;

function apply() {
  if (step >= 1) {
    edu.style.opacity = 1;
  } else {
    edu.style.opacity = 0;
  }
  if (step === 1) {
    edu.style.transform = 'scale(1)';
    stairs.style.opacity = 0;
  } else if (step >= 2) {
    edu.style.transform = 'scale(1)';
    stairs.style.opacity = 1;
    place();
  } else {
    edu.style.transform = 'scale(3)';
    stairs.style.opacity = 0;
  }
  arrows.classList.toggle('visible', step >= 3);
  up.classList.toggle('visible', step >= 3);
  down.classList.toggle('visible', step >= 4);
}
apply();

function move(dir) {
  const next = current + dir;
  if (next < 0 || next >= positions.length) return;
  edu.style.opacity = 0;
  setTimeout(() => {
    current = next;
    place();
    edu.style.opacity = 1;
  }, 300);
}

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight') {
    if (step < 4) {
      step++;
      apply();
    } else {
      move(1);
    }
  } else if (e.key === 'ArrowLeft') {
    if (step > 0 && step <= 4) {
      step--;
      apply();
    } else if (step > 4) {
      move(-1);
    }
  }
});
</script>
</body>
</html>
