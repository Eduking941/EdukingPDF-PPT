<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="utf-8" />
<title>Tömeglépcső</title>
<style>
  body {
    margin: 0;
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: #fff;
    font-family: "Times New Roman", serif;
  }
  #stairs {
    position: relative;
    overflow: visible;
  }
  .step {
    position: absolute;
    border: 2px solid #fff;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
  }
  .grey { color: rgb(179,179,179); }
  .arrow {
    position: absolute;
    border-top: 4px solid rgb(0,128,255);
  }
  .arrow-head {
    position: absolute;
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
  }
  #edu {
    position: absolute;
    transition: left 0.3s, bottom 0.3s;
    pointer-events: none;
  }
</style>
</head>
<body>
<div id="stairs"></div>
<script>
const labels = ['mg','cg','dg','g','dag','hg','kg','','q','t'];
const colors = [
  '#fff',
  'rgb(179,179,179)', // cg szürkével
  'rgb(179,179,179)', // dg szürkével
  '#fff',
  '#fff',
  'rgb(179,179,179)', // hg szürkével
  '#fff',
  '#fff',
  '#fff',
  '#fff'
];
const container = document.getElementById('stairs');
let stepCount = labels.length;
let stepSize = 0;
const edu = document.createElement('img');
edu.id = 'edu';
edu.src = 'Edu_átlátszó_háttér.svg';
edu.alt = 'Edu';
container.appendChild(edu);
let index = labels.indexOf('kg');

function build() {
  container.innerHTML = '';
  container.appendChild(edu);
  const size = Math.min(window.innerWidth, window.innerHeight) * 0.8;
  container.style.width = size + 'px';
  container.style.height = size + 'px';
  stepSize = size / stepCount;

  for (let i = 0; i < stepCount; i++) {
    const step = document.createElement('div');
    step.className = 'step';
    if (colors[i] !== '#fff') step.classList.add('grey');
    step.style.width = stepSize + 'px';
    step.style.height = stepSize + 'px';
    step.style.left = i * stepSize + 'px';
    step.style.bottom = i * stepSize + 'px';
    if (labels[i]) step.textContent = labels[i];
    container.appendChild(step);
  }

  const arrowColor = 'rgb(0,128,255)';
  const topArrow = document.createElement('div');
  topArrow.className = 'arrow';
  topArrow.style.left = stepSize / 2 + 'px';
  topArrow.style.bottom = stepCount * stepSize + stepSize * 0.5 + 'px';
  topArrow.style.width = stepSize * (stepCount - 2) + 'px';
  container.appendChild(topArrow);
  const topHead = document.createElement('div');
  topHead.className = 'arrow-head';
  topHead.style.right = '-8px';
  topHead.style.top = '-6px';
  topHead.style.borderLeft = '8px solid ' + arrowColor;
  topArrow.appendChild(topHead);
  const topText = document.createElement('div');
  topText.textContent = 'osztunk 10-zel';
  topText.style.position = 'absolute';
  topText.style.left = '50%';
  topText.style.bottom = stepCount * stepSize + stepSize * 0.9 + 'px';
  topText.style.transform = 'translateX(-50%)';
  topText.style.color = arrowColor;
  topText.style.fontWeight = 'bold';
  container.appendChild(topText);

  const bottomArrow = document.createElement('div');
  bottomArrow.className = 'arrow';
  bottomArrow.style.left = stepSize / 2 + 'px';
  bottomArrow.style.bottom = -stepSize * 0.5 + 'px';
  bottomArrow.style.width = stepSize * (stepCount - 2) + 'px';
  container.appendChild(bottomArrow);
  const bottomHead = document.createElement('div');
  bottomHead.className = 'arrow-head';
  bottomHead.style.left = '-8px';
  bottomHead.style.top = '-6px';
  bottomHead.style.borderRight = '8px solid ' + arrowColor;
  bottomArrow.appendChild(bottomHead);
  const bottomText = document.createElement('div');
  bottomText.textContent = 'szorzunk 10-zel';
  bottomText.style.position = 'absolute';
  bottomText.style.left = '50%';
  bottomText.style.bottom = -stepSize * 0.9 + 'px';
  bottomText.style.transform = 'translateX(-50%)';
  bottomText.style.color = arrowColor;
  bottomText.style.fontWeight = 'bold';
  container.appendChild(bottomText);

  edu.style.width = stepSize + 'px';
  edu.style.height = stepSize + 'px';
  positionEdu();
}

function positionEdu() {
  edu.style.left = index * stepSize + 'px';
  edu.style.bottom = (index + 1) * stepSize + 'px';
}

window.addEventListener('load', build);
window.addEventListener('resize', build);

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight' && index < stepCount - 1) {
    index++;
    positionEdu();
  } else if (e.key === 'ArrowLeft' && index > 0) {
    index--;
    positionEdu();
  }
});
</script>
</body>
</html>